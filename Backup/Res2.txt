import React, { useEffect, useState } from "react";
import { Link } from 'react-router-dom';
import Axios from "axios";
import Dropdown from 'react-dropdown';
import 'react-dropdown/style.css';





export default function Registration() {
    const [usernameReg, setUsernameReg] = useState("");
    const [passwordReg, setPasswordReg] = useState("");
    const [usertypeReg, setUsertypeReg] = useState("");

    //Dropdown
    const options = [
        { value: "User 1", label: "User 1" },
        { value: "User 2", label: "User 2" },
        { value: "User 3", label: "User 3" }
    ];

    Axios.defaults.withCredentials = true;

    const register = () => {
        Axios.post("http://localhost:3001/register", {
            username: usernameReg,
            password: passwordReg,
            usertype: usertypeReg,
        }).then((response) => {
            console.log(response);
        });
    };


    return (
        <div className="App">
            <div className="registration">
                <h1>Registration</h1>
                <label>Username</label>
                <input
                    type="text"
                    onChange={(e) => {
                        setUsernameReg(e.target.value);
                    }}
                />
                <label>Password</label>
                <input
                    type="text"
                    onChange={(e) => {
                        setPasswordReg(e.target.value);
                    }}
                />
                <br />

                <Dropdown
                    isSearchable
                    isMulti
                    placeHolder="Select..."
                    options={options}
                    onChange={(value) => setUsertypeReg(value.value)}
                /> <br />



                <button onClick={register}> Register </button>

                <p>Already a User?<br />
                    <Link to="/">Login In</Link>
                </p>




            </div>



        </div>
    );
}




css-

.App {
  text-align: center;
}

.registration, .login {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

input {
  width: 250px;
  height: 40px;
}